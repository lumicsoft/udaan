<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>P2P Transfer - EXA COIN</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="overlay" id="overlay"></div>
<div class="sidebar" id="sidebar"></div>

<div class="content">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <div class="d-flex align-items-center">
            <button class="menu-toggle me-3" id="toggleBtn"><i class="fas fa-bars"></i></button>
            <h5 class="mb-0 fw-bold text-gradient">P2P Transfer</h5>
        </div>
        <div class="text-end">
            <div class="small label-text">Total Balance</div>
            <div class="fw-bold text-white">$ 1,240.50</div>
        </div>
    </div>

    <div class="row justify-content-center">
        <div class="col-lg-8">
            <ul class="nav nav-pills nav-justified mb-4 p-1 bg-dark rounded-pill" id="pills-tab" role="tablist" style="background: rgba(0,0,0,0.2) !important;">
                <li class="nav-item">
                    <button class="nav-link active rounded-pill fw-bold" id="pills-fund-tab" data-bs-toggle="pill" data-bs-target="#pills-fund" type="button">FUND TO FUND</button>
                </li>
                <li class="nav-item">
                    <button class="nav-link rounded-pill fw-bold" id="pills-main-tab" data-bs-toggle="pill" data-bs-target="#pills-main" type="button">MAIN TO FUND</button>
                </li>
            </ul>

            <div class="tab-content" id="pills-tabContent">
                
                <div class="tab-pane fade show active" id="pills-fund">
                    <div class="dashboard-card profile-card p-4">
                        <div class="mb-4 text-center">
                            <i class="fas fa-exchange-alt text-info mb-2" style="font-size: 2rem;"></i>
                            <h6 class="text-white fw-bold">Transfer to Other User</h6>
                        </div>
                        <form class="row g-3">
                            <div class="col-12">
                                <label class="small label-text mb-2">Recipient User ID</label>
                                <input type="text" class="form-control form-control-custom" id="fundUserId" placeholder="Enter Receiver ID (e.g. EXA9988)">
                                <div class="mt-2 p-2 rounded-3 d-flex align-items-center" style="background: rgba(0, 210, 255, 0.05); border: 1px dashed rgba(0, 210, 255, 0.2);">
                                    <i class="fas fa-user-check text-success me-2"></i>
                                    <span class="small text-muted">Receiver Name: </span>
                                    <span class="small fw-bold text-white ms-1" id="fundNameDisplay">---</span>
                                </div>
                            </div>
                            <div class="col-12">
                                <label class="small label-text mb-2">Transfer Amount ($)</label>
                                <input type="number" class="form-control form-control-custom" placeholder="Enter amount to send">
                            </div>
                            <div class="col-12 mt-4">
                                <button type="button" class="btn btn-primary w-100 rounded-pill fw-bold py-3" onclick="showTransferPopup('fundUserId')">SEND FUND NOW</button>
                            </div>
                        </form>
                    </div>
                </div>

                <div class="tab-pane fade" id="pills-main">
                    <div class="dashboard-card profile-card p-4">
                        <div class="mb-4 text-center">
                            <i class="fas fa-wallet text-warning mb-2" style="font-size: 2rem;"></i>
                            <h6 class="text-white fw-bold">Convert Main to Fund Wallet</h6>
                        </div>
                        <form class="row g-3">
                            <div class="col-12">
                                <label class="small label-text mb-2">Your User ID</label>
                                <input type="text" class="form-control form-control-custom locked-input" value="EXA872435" readonly>
                            </div>
                            <div class="col-12">
                                <label class="small label-text mb-2">Convert Amount ($)</label>
                                <input type="number" class="form-control form-control-custom" placeholder="Enter amount to convert">
                            </div>
                            <div class="col-12 mt-4">
                                <button type="button" class="btn btn-primary w-100 rounded-pill fw-bold py-3" onclick="showTransferPopup('mainSelf')">CONVERT NOW</button>
                            </div>
                        </form>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="transferSuccessModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content profile-card border-0">
            <div class="modal-body text-center p-5">
                <div class="mb-4">
                    <i class="fas fa-paper-plane text-success" style="font-size: 70px; filter: drop-shadow(0 0 10px rgba(0, 255, 204, 0.3));"></i>
                </div>
                <h4 class="fw-bold text-white mb-2">Transfer Successful!</h4>
                <p class="text-muted small">Aapka fund safely transfer ho gaya hai.</p>
                
                <div class="p-3 rounded-4 mt-4" style="background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.05);">
                    <div class="d-flex justify-content-between mb-2">
                        <span class="small text-muted">To User ID:</span>
                        <span class="small fw-bold text-info" id="popUserId">---</span>
                    </div>
                    <div class="d-flex justify-content-between">
                        <span class="small text-muted">Amount Sent:</span>
                        <span class="small fw-bold text-success" id="popAmount">$ 0.00</span>
                    </div>
                </div>

                <div class="mt-4">
                    <button type="button" class="btn btn-primary rounded-pill px-5 fw-bold" data-bs-dismiss="modal">DONE</button>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
    // Header Load
    fetch('header.html').then(res => res.text()).then(data => {
        document.getElementById('sidebar').innerHTML = data;
    });

    // Name detect for Fund to Fund
    document.getElementById('fundUserId').addEventListener('input', function(e) {
        const display = document.getElementById('fundNameDisplay');
        if(e.target.value.length > 5) {
            display.innerText = "Rahul Sharma";
            display.classList.add('text-success');
        } else {
            display.innerText = "---";
            display.classList.remove('text-success');
        }
    });

    // Transfer Popup Logic
    function showTransferPopup(type) {
        let userId = type === 'mainSelf' ? 'EXA872435' : document.getElementById('fundUserId').value;
        document.getElementById('popUserId').innerText = userId || "N/A";
        document.getElementById('popAmount').innerText = "$ " + (Math.floor(Math.random() * 500) + 10) + ".00"; // Demo amount
        
        var myModal = new bootstrap.Modal(document.getElementById('transferSuccessModal'));
        myModal.show();
    }
</script>
<script src="script.js"></script>
</body>
</html>
